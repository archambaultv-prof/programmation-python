---
sidebar_label: Threading 3
sidebar_position: 3
description: Threading 3
---

# ğŸ§¶ Threading 3

## ğŸ¯ Objectif pÃ©dagogique

- Utiliser les semaphores pour limiter l'accÃ¨s aux ressources.

## ğŸ“œ Ã‰noncÃ©

Ã‰crire une classe `Downloader` qui tÃ©lÃ©charge des fichiers depuis une liste
d'URLs en utilisant un nombre limitÃ© de threads. C'est Ã  dire que si le nombre
de threads maximum est atteint, les autres threads doivent attendre qu'une place
se libÃ¨re. Voici un bout de code pour vous aider.

```python
import threading

class Downloader:
    def __init__(self, max_threads=5):
        self.max_threads = max_threads
        self.semaphore = threading.Semaphore(max_threads)

    def download_file(self, url):
        pass # Votre code ici. Vous pouvez simuler le tÃ©lÃ©chargement avec time.sleep()

threads = []
downloader = Downloader(max_threads=3)
urls = [f"http://example.com/file{i}.txt" for i in range(10)]
for url in urls:
    thread = threading.Thread(target=downloader.download_file, args=(url,))
    threads.append(thread)
    thread.start()

for thread in threads:
    thread.join()
print("Tous les tÃ©lÃ©chargements sont terminÃ©s.")
```
---
sidebar_label: Web scraping
sidebar_position: 4
description: Web scraping concurrent avec asyncio
---

# üåê Web scraping (asyncio)

## üéØ Objectif p√©dagogique

- Utiliser la librairie `aiohttp` pour des requ√™tes HTTP asynchrones.

## üìú √ânonc√©

√âcrire un programme qui t√©l√©charge plusieurs pages web
de fa√ßon concurrente avec `asyncio`. Utiliser la librairie
`aiohttp` pour faire les requ√™tes HTTP de fa√ßon asynchrone.

Structurer votre code de fa√ßon √† bien indiquer quand chaque
√©tape est effectu√©e (d√©marrage du t√©l√©chargement, fin du
t√©l√©chargement, etc.) pour visualiser la concurrence.

Les sites √† t√©l√©charger sont :

- `https://www.cmaisonneuve.qc.ca/`
- `https://www.python.org/`
- `https://www.radio-canada.ca/`
- `https://xkcd.com/1319/`

### Exemple de code pour d√©marrer

```python
import aiohttp
import asyncio

async def fetch_html(url: str) -> str:
    async with aiohttp.ClientSession() as session:
        async with session.get(url) as response:
            # V√©rifie le statut
            if response.status != 200:
                raise Exception(f"Erreur HTTP {response.status}")
            return await response.text()

async def main():
    url = "https://www.cmaisonneuve.qc.ca/"
    html = await fetch_html(url)
    print(html[:500])  # Affiche seulement les 500 premiers caract√®res

if __name__ == "__main__":
    asyncio.run(main())
```

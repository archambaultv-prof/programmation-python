---
sidebar_label: Classes pour biblioth√®que
sidebar_position: 12
description: Classes pour biblioth√®que
---

# üìö Classes pour biblioth√®que

## üéØ Objectif p√©dagogique

- Comprendre l'h√©ritage en Python.
- Comprendre les classes abstraites.
- Traduire un √©nonc√© en code Python.


## üìú √ânonc√©

Vous devez cr√©er des classes pour le bon fonctionnement logiciel d'une
biblioth√®que de votre quartier.

### Interface

- Les livres vont tous avoir un identifiant unique. Or ceci est tr√®s fr√©quent
  dans les bases de donn√©es. Vous devez donc cr√©er une **interface** `AvecID`
  qui contient une seule m√©thode *abstraite* `get_id(self)`.
- Certains types de livres auront des mots-cl√©s. Vous devez cr√©er une
  **interface** `AvecMotsCles` qui contient une seule m√©thode *abstraite*
  `contient_mot_cle(self)`. L'objectif de cette m√©thode est de v√©rifier si un
  mot-cl√© est pr√©sent dans une classe qui impl√©mente cette interface. Lors de
    l'impl√©mentation de cette m√©thode, vous devez retourner `True` si le mot-cl√©
    est pr√©sent et `False` sinon.

### Classe m√®re

Tous les livres ont des attributs communs. Vous devez cr√©er une classe m√®re
`Livre` qui contient les attributs suivants:

- `id`
- `titre`
- `auteur`
- `nb_pages`

Cette classe h√©rite de `AvecID` et impl√©mente la m√©thode `get_id(self)`.

Cette classe doit aussi contenir la m√©thode *abstraite* `description(self)`.
L'objectif de cette m√©thode est de retourner une cha√Æne de caract√®res qui
d√©crit le livre. Puisque c'est une m√©thode abstraite, vous ne devez pas fournir
une impl√©mentation et la classe `Livre` doit √™tre d√©clar√©e comme abstraite.

L'ordre des classes m√®res est important. Vous devez d√©clarer `AvecID` en premier
dans la liste des classes m√®res et ensuite `ABC` pour d√©clarer la classe comme
abstraite.

### Classes filles

Vous devez cr√©er les classes filles suivantes. Ces classes ne sont **pas** des
classes abstraites, vous devez donc fournir une impl√©mentation de toutes les
m√©thodes abstraites h√©rit√©es.

- `Roman` qui h√©rite de `Livre` et qui impl√©mente l'interface `AvecMotsCles`.
  Les mots-cl√©s sont stock√©s dans un attribut `mots_cles` qui est une liste de
  cha√Ænes de caract√®res. Prenez soin de bien d√©clarer `Livre` en premier dans
  la liste des classes m√®res. Ainsi, vous n'avez pas besoin d'utiliser
  l'h√©ritage coop√©ratif.

- `BandeDessinee` qui h√©rite de `Livre`. Elle poss√®de un attribut
  `dessinateur`.

- `LivreAudio` qui h√©rite de `Livre`. Elle poss√®de un attribut `narrateur`.

Pour faciliter la vie des d√©veloppeurs, impl√©mentez la m√©thode `__str__(self)` pour toutes les classes.
Cette m√©thode doit retourner la m√™me chose que la m√©thode `description(self)`.

### Classe Biblioth√®que

Vous devez cr√©er une classe `Bibliotheque` avec les caract√©ristiques suivantes:

- Son constructeur ne prend aucun argument. Toutefois, il initialise un
  attribut `livres` qui est une liste vide.
- Elle poss√®de une m√©thode `ajouter_livre(self, livre)` qui ajoute un livre √† la
  liste des livres. Attention, cette m√©thode doit v√©rifier si le livre est une
  instance de `Livre`. Elle lance une erreur si ce n'est pas le cas.
  Vous pouvez vous inspirer du code suivant pour v√©rifier si un objet est une
  instance d'une classe:

  ```python
  class MaClasse:
      pass

  if isinstance(objet, MaClasse):
      # Faire quelque chose
  else:
      raise ValueError("Message d'erreur")
  ```

- Elle poss√®de une m√©thode `supprimer_livre(self, id_livre)` qui supprime un
  livre de la liste des livres. L'argument est un identifiant, pas un objet de
  la classe livre. Chaque livre est identifi√© par son identifiant unique.
- Elle poss√®de une m√©thode `lister_livres(self)` qui retourne une liste de cha√Ænes
  de caract√®res qui d√©crivent les livres de la biblioth√®que. Vous devez utiliser
  la m√©thode `description(self)` pour obtenir la description de chaque livre.
- Elle poss√®de une m√©thode `rechercher_livre_par_mot_cle(self, mot_cle)` qui retourne
  une liste de livres qui contiennent le mot-cl√©
  pass√© en argument. Vous devez utiliser la m√©thode `contient_mot_cle(self)` pour
  v√©rifier si un livre contient le mot-cl√©.

  Toutefois, seulement les romans contiennent des mots-cl√©s. Vous devez donc
  v√©rifier si le livre est une instance de `Roman` avant d'appeler la m√©thode
  `contient_mot_cle(self)`. Utilisez encore la m√©thode `isinstance` pour v√©rifier
    si un objet est une instance d'une classe.
- Elle poss√®de une m√©thode `rechercher_auteur(self, auteur)` qui retourne une liste
  de livres de l'auteur pass√© en argument.

## Conseils

- Vous pouvez ajouter du code √† la fin du fichier pour tester. Par exemple :

    ```python
    r1 = Roman(...)
    bd1 = BandeDessinee(...)
    la1 = LivreAudio(...)
    biblio = Bibliotheque()
    biblio.ajouter_livre(r1)
    biblio.ajouter_livre(bd1)
    biblio.ajouter_livre(la1)
    print(biblio.lister_livres())
    ```

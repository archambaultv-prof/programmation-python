---
sidebar_label: Fichier JSON
sidebar_position: 4
---

# Fichiers JSON

## Introduction aux fichiers JSON

JSON (JavaScript Object Notation) est un format l√©ger, tr√®s utilis√© pour
√©changer des donn√©es structur√©es entre diff√©rentes applications, services web
ou scripts. Python fournit le module `json` int√©gr√©, facilitant la manipulation
des donn√©es JSON.

### Description d√©taill√©e du format JSON

JSON repose sur une syntaxe claire et simple pour repr√©senter des donn√©es
structur√©es. Voici les types de donn√©es autoris√©s dans JSON ainsi que leur
correspondance avec les objets Python :

- **Objets JSON (`{}`)** : Correspondent aux dictionnaires Python. Un objet
  JSON est une collection de paires cl√©-valeur.
- **Tableaux JSON (`[]`)** : Correspondent aux listes Python. Un tableau JSON
  est une collection ordonn√©e de valeurs.
- **Cha√Ænes de caract√®res** : Correspondent au type `str` en Python. Exemple :
  `"texte"`.
- **Nombres** : Correspondent aux types `int` ou `float` en Python. Exemple :
  `123` ou `3.14`.
- **Bool√©ens** : Correspondent aux types `True` ou `False` en Python. Exemple :
  `true` ou `false`.
- **Valeur nulle** : Correspond au type `None` en Python. Exemple : `null`.

### Syntaxe JSON

Un fichier JSON valide suit une syntaxe rigoureuse :

- Toutes les cha√Ænes doivent √™tre entour√©es de guillemets doubles (`"`).
- Les cl√©s dans les objets JSON doivent √™tre des cha√Ænes de caract√®res.
- Les objets JSON sont d√©limit√©s par des accolades `{}`.
- Les tableaux JSON sont d√©limit√©s par des crochets `[]`.
- Chaque paire cl√©-valeur dans un objet est s√©par√©e par une virgule.
- Chaque valeur dans un tableau est s√©par√©e par une virgule.

Exemple de fichier JSON :

```json
{
    "nom": "Alice",
    "√¢ge": 30,
    "ville": "Paris",
    "competences": ["Python", "Excel", "JSON"],
    "projets": [
        {"nom": "Projet A", "statut": "termin√©"},
        {"nom": "Projet B", "statut": "en cours"}
    ],
    "est_actif": true,
    "score": null
}
```

### Correspondance JSON-Python

Voici un tableau r√©capitulatif :

| JSON          | Python             |
|---------------|--------------------|
| Objet `{}`    | Dictionnaire `{}`  |
| Tableau `[]`  | Liste `[]`         |
| Cha√Æne        | Cha√Æne `str`       |
| Nombre        | `int` ou `float`   |
| Bool√©en       | `True` ou `False`  |
| Null          | `None`             |

Cette correspondance claire facilite la manipulation directe des donn√©es JSON
dans Python.


## Lire un fichier JSON

La lecture d‚Äôun fichier JSON avec Python est tr√®s simple. Voici comment
proc√©der :

```python
import json

with open('donnees.json', 'r', encoding='utf-8') as fichier:
    donnees = json.load(fichier)

print(donnees)
```

Ici, `json.load()` lit le contenu du fichier et le convertit directement en une structure Python (dictionnaire ou liste selon le cas).

## √âcrire dans un fichier JSON

Pour √©crire des donn√©es dans un fichier JSON, vous pouvez utiliser `json.dump()` :

```python
import json

donnees = {
    "nom": "Alice",
    "√¢ge": 30,
    "ville": "Paris"
}

with open('resultats.json', 'w', encoding='utf-8') as fichier:
    json.dump(donnees, fichier, ensure_ascii=False, indent=4)
```

L'option `ensure_ascii=False` permet de sauvegarder correctement les caract√®res
sp√©ciaux, tandis que `indent=4` am√©liore la lisibilit√© du fichier g√©n√©r√©.

## Modifier un fichier JSON existant

Modifier un fichier JSON existant consiste g√©n√©ralement √† charger les donn√©es,
les modifier, puis les sauvegarder √† nouveau :

```python
import json

# Charger les donn√©es existantes
with open('resultats.json', 'r', encoding='utf-8') as fichier:
    donnees = json.load(fichier)

# Modifier les donn√©es
donnees['√¢ge'] = 31

# Sauvegarder les modifications
with open('resultats_modifies.json', 'w', encoding='utf-8') as fichier:
    json.dump(donnees, fichier, ensure_ascii=False, indent=4)
```

## Exemple pratique avec JSON

Voici un exemple pratique montrant comment traiter un fichier JSON contenant
une liste de personnes, en filtrant les r√©sultats selon un crit√®re pr√©cis :

```python
import json

# Charger le fichier JSON
with open('personnes.json', 'r', encoding='utf-8') as fichier:
    personnes = json.load(fichier)

# Filtrer les donn√©es
personnes_filtrees = [personne for personne in personnes if personne['√¢ge'] >= 30]

# Sauvegarder les donn√©es filtr√©es
with open('personnes_filtrees.json', 'w', encoding='utf-8') as fichier:
    json.dump(personnes_filtrees, fichier, ensure_ascii=False, indent=4)
```

## Testez votre compr√©hension

<details>
<summary>ü§î Testez votre compr√©hension - Indexation</summary>

<MultipleChoiceTabs>

<MultipleChoice>
Quel module Python permet de lire un fichier JSON ?
<MultipleChoiceOption isCorrect>
json
</MultipleChoiceOption>
<MultipleChoiceOption>
csv
</MultipleChoiceOption>
<MultipleChoiceOption>
yaml
</MultipleChoiceOption>
</MultipleChoice>

<MultipleChoice>
Quel est le r√¥le de la fonction `json.load(f)` ?
<MultipleChoiceOption isCorrect>
Elle lit un fichier JSON ouvert et le convertit en objet Python.
</MultipleChoiceOption>
<MultipleChoiceOption>
Elle lit une cha√Æne de caract√®res contenant du JSON.
</MultipleChoiceOption>
<MultipleChoiceOption>
Elle convertit un dictionnaire Python en fichier JSON.
</MultipleChoiceOption>
</MultipleChoice>


<MultipleChoice>
Quel est le type Python retourn√© par `json.load(f)` si le fichier contient `{ "nom": "Alice", "age": 20 }` ?
<MultipleChoiceOption isCorrect>
dict
</MultipleChoiceOption>
<MultipleChoiceOption>
str
</MultipleChoiceOption>
<MultipleChoiceOption>
list
</MultipleChoiceOption>
</MultipleChoice>

<MultipleChoice>
Quelle commande faut-il utiliser pour ouvrir correctement un fichier JSON nomm√© `data.json` ?
<MultipleChoiceOption isCorrect>
`with open("data.json", encoding="utf-8") as f:`
</MultipleChoiceOption>
<MultipleChoiceOption>
`with json.open("data.json") as f:`
</MultipleChoiceOption>
<MultipleChoiceOption>
`with open("data.json", "json") as f:`
</MultipleChoiceOption>
</MultipleChoice>

<MultipleChoice>
Que se passe-t-il si le fichier JSON est mal form√© ?
<MultipleChoiceOption isCorrect>
Python l√®ve une exception `json.JSONDecodeError`.
</MultipleChoiceOption>
<MultipleChoiceOption>
La fonction `json.load()` retourne `None`.
</MultipleChoiceOption>
<MultipleChoiceOption>
Le fichier est ignor√©.
</MultipleChoiceOption>
</MultipleChoice>


<MultipleChoice>
Quel format de donn√©es JSON est valide ?
<MultipleChoiceOption isCorrect>
`{ "nom": "Alice", "age": 30 }`
</MultipleChoiceOption>
<MultipleChoiceOption>
`{ nom: "Alice", age: 30 }`
</MultipleChoiceOption>
<MultipleChoiceOption>
`[nom = "Alice", age = 30]`
</MultipleChoiceOption>
</MultipleChoice>

<MultipleChoice>
Quel est l‚Äôint√©r√™t principal du format JSON ?
<MultipleChoiceOption isCorrect>
Il permet d‚Äô√©changer des donn√©es de mani√®re structur√©e entre applications.
</MultipleChoiceOption>
<MultipleChoiceOption>
Il est plus rapide que le CSV.
</MultipleChoiceOption>
<MultipleChoiceOption>
Il est con√ßu uniquement pour Python.
</MultipleChoiceOption>
</MultipleChoice>

<MultipleChoice>
Que contient la variable `data` apr√®s cet extrait ?
```python
with open("info.json", encoding="utf-8") as f:
    data = json.load(f)
```

<MultipleChoiceOption isCorrect>
Un objet Python (souvent un dictionnaire ou une liste).
</MultipleChoiceOption>
<MultipleChoiceOption>
Le contenu brut du fichier sous forme de texte.
</MultipleChoiceOption>
<MultipleChoiceOption>
Un fichier JSON compress√©.
</MultipleChoiceOption>
</MultipleChoice>


</MultipleChoiceTabs>
</details>


